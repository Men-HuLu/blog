Logstash

集群
节点
索引
类型
文档
分片
映射

put       baseurl/索引名称/类型名称/文档id            创建文档(指定文档id)
post      baseurl/索引名称/类型名称/文档                创建文档(随机文档id)
post      baseurl/索引名称/类型名称/文档id/_updata      修改文档
delete    baseurl/索引名称/类型名称/文档id              删除文档
get       baseurl/索引名称/类型名称/文档id           通过id查询
post      baseurl/索引名称/类型名称/_search           通过id查询

```
PUT /test1/_doc/1
{
  "name":"ymj",
  "age":3
}

建库
PUT /test2
{
  "mappings": {
    "properties": {
      "name":{
        "type": "text"
      },
      "age":{
        "type": "long"
      },
      "birthday":{
        "type": "date"
      }
    }
  }
}
```
库查看
GET _cat/health
GET _cat/indices?v

搜索
```
GET /test1/type1/_search?q=name:'ymj'

GET /test1/type1/_search
{
  "query": {
    "match": {
      "name":"国" 
    }
  }
}

GET /test1/type1/_search
{
  "query": {
    "match": {
      "name":"国" 
    }
  },
  "_source": ["name","age"],
  "sort": [
    {
      "age": {
        "order": "desc"
      }
    }
  ]
}

GET /test1/type1/_search
{
  "query": {
    "bool": {
      "should": [
        {
          "match": {
            "name":"国"
          }
        },
        {
          "match": {
            "age":3
          }
        }
      ]
    }
  }
}

must should must_not


GET /test1/type1/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "name":"国"
          }
        }
      ],
      "filter": [
        {
          "range": {
            "age": {
              "lt": 4
            }
          }
        }
      ]
    }
  }
}

gt > 
gte >=
lt <
lte <=

term 精确
```






```
GET _analyze
{
  "analyzer": "ik_smart",
  "text":"中国"
}

GET _analyze
{
  "analyzer": "ik_max_word",
  "text":"中国的"
}

GET _analyze
{
  "analyzer": "keyword",
  "text":"中国的"
}

GET _analyze
{
  "analyzer": "standard",
  "text":"中国的"
}
```

高亮查询
```
GET /test1/type1/_search
{
  "query": {
    "match": {
      "name":"国" 
    }
  },
  "highlight": {
    "pre_tags": "<p class='red'>",
    "post_tags": "<p>", 
    "fields": {
      "name":{}
    }
  }, 
  "_source": ["name","age"],
  "sort": [
    {
      "age": {
        "order": "desc"
      }
    }
  ],
  "from": 1,
  "size": 2
}
```