---
title: 3.wepy分包
data: 2019-5-24
tags: 微信小程序
categories: 微信小程序
---


#### 升级脚手架
```
//wepy>1.7.2(wepy升级)
npm install wepy

//wepy-cli>1.7.3
npm install wepy-cli
或者
//"@wepy/cli": "^2.0.0-alpha.1",
npm i @wepy/cli
```
![image](https://s2.ax1x.com/2019/04/21/EFNic9.png)
#### 分包示例
```
config = {
  pages: [
    'pages/tabIndex/tabIndex',
    'pages/tabOrder/tabOrder',
    'pages/tabShop/tabShop',
    'pages/tabCard/tabCard',
  ],
  subPackages:[
    {
      name: "customer",
      root:'pages/customer/',
      pages:[
        'activity/activity',
        'phone/phone',
        'orderDetail/orderDetail',
        'listCity/listCity',
        'poster/poster'
      ]
    },
    {
      name: "partner",
      root:'pages/partner/',
      pages:[
        'photo/photoAdd',
        'photo/photoDelete',
        'func/func',
        'proInvite/proInvite',
        'proManage/proManage',
        'proManage/proManageDetail',
      ]
    }
  ],
  preloadRule:{
    "pages/tabIndex/tabIndex":{
      "network": "all",
      "packages": ["customer"]
    },
    "pages/tabShop/tabShop":{
      "network": "all",
      "packages": ["partner"]
    }
  },
  window: {
    backgroundTextStyle: 'light',
    navigationBarBackgroundColor: '#fff',
    navigationBarTitleText: 'WeChat',
    navigationBarTextStyle: 'black'
  },
  tabBar: {
    color: '#707070',
    selectedColor: '#ff6801',
    borderStyle: 'white',
    backgroundColor: '#fff',
    list: [
      {
        iconPath: 'resources/tab/recommend.png',
        selectedIconPath: 'resources/tab/recommend_select.png',
        text: '推荐',
        pagePath: 'pages/tabIndex/tabIndex'
      },
      {
        iconPath: 'resources/tab/order.png',
        selectedIconPath: 'resources/tab/order_select.png',
        text: '订单',
        pagePath: 'pages/tabOrder/tabOrder'
      },
      {
        iconPath: 'resources/tab/shop.png',
        selectedIconPath: 'resources/tab/shop_select.png',
        text: '门店',
        pagePath: 'pages/tabShop/tabShop'
      },
      {
        iconPath: 'resources/tab/card.png',
        selectedIconPath: 'resources/tab/card_select.png',
        text: '卡券',
        pagePath: 'pages/tabCard/tabCard'
      }
    ]
  },
  networkTimeout: {
    request: 15000,
    connectSocket: 15000,
    uploadFile: 15000,
    downloadFile: 15000
  }
}
```
