---
title: 7.commit操作rebase操作
data: 2019-4-7
tags:
    - git
    - gitHub
categories: git
---

#### 1.暂存区到版本库
```
git commit -m'版本提交信息'
git commit [file1] [file2] ... -m [message]     //提交暂存区的指定文件到仓库区

git commit -a                       //提交工作区自上次commit之后的变化，直接到仓库区
git commit -a -m'版本提交信息'      //保存到暂存区，并且提交版本库
git commit -am'版本提交信息'        //保存到暂存区，并且提交版本库

git commit -v      //提交时显示所有diff信息
```

#### 2.修改最新的提交信息
```
git commit --amend      //修改后:wq保存
git commit --amend -m [message]       //使用一次新的commit，替代上一次提交,改写上一次commit的提交信息
git commit --amend [file1] [file2] -m [message]       
```

#### 3.commit历史提交信息修改(实际上是变基操作)
```
步骤一
git rebase -i  变基的父亲   //实际上就是变基重新提交commit

会显示如下
pick 1d2a4a0 分离头指针

# Rebase 640a1e3..1d2a4a0 onto 640a1e3 (1 command)
#
# Commands:
# p, pick <commit> = use commit
# r, reword <commit> = use commit, but edit the commit message
# e, edit <commit> = use commit, but stop for amending
# s, squash <commit> = use commit, but meld into previous commit
# f, fixup <commit> = like "squash", but discard this commit's log message
# x, exec <command> = run command (the rest of the line) using shell
# b, break = stop here (continue rebase later with 'git rebase --continue')
# d, drop <commit> = remove commit
# l, label <label> = label current HEAD with a name
# t, reset <label> = reset HEAD to a label
# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]
# .       create a merge commit using the original merge commit's
# .       message (or the oneline, if no original merge commit was
# .       specified). Use -c <commit> to reword the commit message.
#
# These lines can be re-ordered; they are executed from top to bottom.
#


步骤二
reword 1d2a4a0 commitInfo
：wq

步骤三
修改commitInfo

# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
#
# Date:      Wed Feb 6 21:17:58 2019 +0800
#
# interactive rebase in progress; onto 640a1e3
# Last command done (1 command done):
#    reword 4da30d2 分离头指针1
# No commands remaining.
# You are currently editing a commit during a rebase.
#
# Changes to be committed:
#       new file:   .gitignore
#       deleted:    0.txt
#       modified:   index.html
#
~
:wq

```

#### 4.把几个连续的commit合并成1个

```
git rebase -i parent

要合并的pick不改
被合并的改为squash
：wq

写上要合并的原因
：wq
```


#### 5.选取几个commit合并成1个

```
git rebase -i parent

改变顺序，如：

pick ds4554
pick d24sds
pick dsa343
pick 34344f
=>
pick ds4554
s    dsa343
s    34344f
pick d24sds

git rebase --continue
```

ps:对父commit进行合并，父commit又有分支，这时会有两个父commit

